<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta name="robots" content="index,nofollow">



<title>RunningOnCygwin - MLton Standard ML Compiler (SML Compiler)</title>
<link rel="stylesheet" type="text/css" charset="iso-8859-1" media="all" href="common.css">
<link rel="stylesheet" type="text/css" charset="iso-8859-1" media="screen" href="screen.css">
<link rel="stylesheet" type="text/css" charset="iso-8859-1" media="print" href="print.css">


<link rel="Start" href="Home">


</head>

<body lang="en" dir="ltr">

<table bgcolor = lightblue cellspacing = 0 style = "border: 0px;" width = 100%>
  <tr>
    <td style = "
		border: 0px;
		color: darkblue; 
		font-size: 150%;
		text-align: left;">
      <a class = mltona href="Home">MLton 20051115</a>
    <td style = "
		border: 0px;
		font-size: 150%;
		text-align: center;
		width: 50%;">
      RunningOnCygwin
    <td style = "
		border: 0px;
		text-align: right;">
      <table cellspacing = 0 style = "border: 0px">
        <tr style = "vertical-align: middle;">
      </table>
  <tr style = "background-color: white;">
    <td colspan = 3
	style = "
		border: 0px;
		font-size:70%;
		text-align: right;">
      <a href = "Home">Home</a>
      &nbsp;<a href = "Index">Index</a>
      &nbsp;
</table>
<div id="content" lang="en" dir="ltr">
MLton uses the <a class="external" href="http://www.cygwin.com/"><img src="moin-www.png" alt="[WWW]" height="11" width="11">Cygwin</a> emulation layer to provide a Posix-like environment while running on Windows.  To run MLton on Windows, you must first install Cygwin on your machine.  To do this, visit the Cygwin site from your Windows machine and run their <tt>setup.exe</tt> script.  Then, you can unpack the MLton binary tgz in your Cygwin environment. <p>
To run MLton cross-compiled executables on Windows, you must install the Cygwin <tt>dll</tt> on the Windows machine. 
</p>
<p>
Here are the known problems using MLton on Cygwin. 
</p>

    <ul>

    <li>
<p>
 Time profiling is disabled. 
</p>
</li>
    <li class="gap">
<p>
 <tt>Posix.Process.fork</tt> is disabled.  Any use of <tt>fork</tt> will  raise <tt>OS.SysErr</tt>.  For idiomatic uses of <tt>fork</tt> plus  <tt>exec</tt>, you can instead use the <tt>MLton.Process.spawn</tt> family  of functions, which work on all our platforms.   
</p>
<p>
 Fork used to be disabled due to Cygwin bugs involving the interaction  of <tt>fork</tt> and <tt>mmap</tt>.  Recently, Cygwin developers have fixed  those bugs, in Cygwin versions from 2004-Jul-15 or later (1.5.11-1 or  higher).  However, Cygwin's <tt>mmap</tt> emulation does not make  available as much contiguous virtual address space as using the  Windows <tt>VirtualAlloc</tt> function.  Hence, MLton still uses  <tt>VirtualAlloc</tt> and not <tt>mmap</tt>, which means that Cygwin can  not properly emulate fork.  Consequently, <tt>Posix.Process.fork</tt> is  disabled. 
</p>
</li>
</ul>

</div>



<p>
<hr>
Last edited on 2004-11-02 01:03:46 by <span title="adsl-67-124-249-200.dsl.snfc21.pacbell.net"><a href="StephenWeeks">StephenWeeks</a></span>.
</body></html>
