\sec{Getting started}{getting-started}

\subsection{Installation}

{\mlton} runs on X86 machines under either Linux or Cygwin/Windows.
and is distributed in source and binary RPM and gzipped tar ({\tt
tgz}) format.  You can install either the binary RPM with {\tt rpm -i
mlton-\version-1.i386.rpm} or the binary tgz with {\tt zcat
mlton-\version-1.i386.tgz | tar x}.  Or, if your distribution doesn't
use rpm, but you have {\tt rpm2cpio}, you can use {\tt rpm2cpio
mlton-\version-1.i386.rpm | cpio -id}.

If you do not install {\mlton} in the root directory, then you must
set the {\tt lib} variable in {\tt usr/local/bin/mlton} to the
directory that contains the libraries ({\tt /usr/local/lib/mlton} by
default).

Installation creates the following files and directories.

\newcommand{\place}[1]{\item[\tt #1]\hspace{1in}\\}

\begin{description}

\place{/usr/local/bin/mllex}
A lexer generator.

\place{/usr/local/bin/mlprof}
A profiler (see \secref{profiling}).

\place{/usr/local/bin/mlton}
A script to call the compiler.
This script may be moved anywhere, however,
it makes use of files in {\tt /usr/local/lib/mlton}.

\place{/usr/local/bin/mlyacc}
A parser generator.

\place{/usr/local/man/man1/mlprof.1}
Man page for {\tt mlprof}.

\place{/usr/local/man/man1/mlton.1}
Man page for {\tt mlton}.

\place{\doc}
Directory containing the user guide, example SML programs (in the {\tt examples}
dir), and license information.

\place{/usr/local/lib/mlton}
Directory containing libraries and include files needed during
compilation.

\end{description}

{\mlton} requires that you have the
\htmladdnormallink{GNU multiprecision library (gmp)}
		  {http://www.gnu.org/software/gmp/gmp.html}
installed on your machine.  If you do not, then when you run {\mlton},
you will see an error message like the following.
\begin{verbatim}
/usr/local/lib/mlton/mlton-compile: error while loading shared libraries: \
    libgmp.so.3: cannot load shared object file: No such file or directory
\end{verbatim}
Also, {\mlton} passes the {\tt -lgmp} flag to the linker, which will
link with {\tt libgmp.so}.  If the linker cannot find {\tt libgmp.so},
then you will see an error message like {\tt /usr/bin/ld: cannot find
-lgmp}.  If you have the gmp installed, and you still see this error,
then you need to add a {\tt -L} argument in the {\tt bin/mlton} script
so that the linker can find {\tt libgmp.so}, for example, {\tt
-L/usr/local/lib}.

\subsection{Hello, World!}

Once you have installed {\mlton}, create a file called {\tt
hello-world.sml} with the following contents.

\begin{verbatim}
print "Hello, world!\n";
\end{verbatim}
Now, create an executable, {\tt hello-world}, with the following command.
\begin{verbatim}
mlton hello-world.sml
\end{verbatim}
You can now run this executable to verify that it works.  There are
several other small examples in the {\tt examples} subdirectory of the
{\tt doc} directory.  In particular, there are examples that
demonstrate world save and restore, callcc, object size primitive,
threads, profiling, and the FFI.
